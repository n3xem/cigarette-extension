# Virtual Cigarette Chrome Extension

かっこいいタバコを再現して、それをマウスでグリグリ動かして好きな場所でタバコが吸える拡張機能です。

## 機能

- **マウスドラッグ**: タバコをマウスでドラッグして好きな場所に移動できます
- **キーボード操作**: `L`キーで火をつける/消す、`S`キーで煙を出す/止める（メイン操作方法）
- **灰を落とす**: `A`キーで灰を落とす、`C`キーで灰をクリア（火がついている時のみ）
- **角度調整**: 拡張機能のポップアップでタバコの角度を0°〜360°で調整できます
- **プリセット角度**: 水平、斜め、縦、逆斜めの4つのプリセットボタンで瞬時に角度変更
- **煙の量調整**: 1〜10段階で煙の量を調整（少/普通/多/大量のプリセット付き）
- **クリック操作**: タバコの先端/下部をクリックしても操作可能（回転時も対応）

## インストール方法

1. Chrome で `chrome://extensions/` を開きます
2. 右上の「デベロッパーモード」をオンにします
3. 「パッケージ化されていない拡張機能を読み込む」をクリックします
4. この拡張機能のフォルダを選択します

## 使い方

1. 拡張機能をインストールすると、任意のウェブページでタバコが表示されます
2. タバコをマウスでドラッグして好きな場所に移動できます
3. **`L`キーを押す**と火がつきます（もう一度押すと消えます）
4. 火がついている状態で**`S`キーを押す**と煙が出ます（もう一度押すと止まります）
5. 火がついている状態で**`A`キーを押す**と灰が落ちます（そのサイトに残ります）
6. **`C`キーを押す**とページ上の灰をすべてクリアします
7. **拡張機能のアイコンをクリック**してポップアップを開き、設定を調整できます
8. 角度スライダーで0°〜360°の調整、プリセットボタンで瞬時に角度変更
9. 煙の量スライダーで1〜10段階の調整、プリセットボタンで瞬時に量変更
10. クリックでも操作可能: タバコの先端/下部をクリック（回転角度も自動考慮）

## 操作のコツ

- **キーボード操作**: `L`キー（火）、`S`キー（煙）、`A`キー（灰）、`C`キー（クリア）が最も確実な操作方法です
- **灰の動作**: 火がついている時のみ灰を落とせます。灰は重力で落下してページに残ります
- **入力フィールド**: テキスト入力中はキーボード操作が無効になります（誤動作防止）
- **ドラッグ**: タバコをマウスで押しながら動かすとドラッグできます
- **角度調整**: ポップアップのスライダーで細かく角度調整、プリセットボタンで素早く設定
- **煙の量調整**: 1=少量、5=普通、10=大量。量が多いほど煙の発生頻度が高くなります
- **設定保存**: 角度と煙の量は自動的に保存され、次回も同じ設定で表示されます
- **デバッグ**: ブラウザの開発者ツールのコンソールで操作状況を確認できます

## ファイル構成

- `manifest.json`: 拡張機能の設定ファイル
- `content.js`: メインのJavaScriptファイル
- `cigarette.css`: タバコと煙のスタイル定義
- `popup.html`: 設定ポップアップのHTML
- `popup.js`: 設定ポップアップのJavaScript

## 注意事項

- この拡張機能は純粋にエンターテインメント目的で作成されています
- 実際の喫煙を推奨するものではありません